# train-log-analyser

This is a tool for analyse MXNet train logs. More concretely, the training logs generated by MXNet is batch by batch, difficult to read some summarized information for users, especially for an huge train process with huge amount data or very deep network or with too small `disp_batches` parameter. Thus, summarized train log is convenient and important. This script `train-log-analyser` provide summarized function for your huge logs and generates a `csv` format summary.

## Usage

Assume a file named `train-log-demo.log`, we can summarized it using following command:

```
$ python train-log-analyser.py train-log-demo.log > train-log-summary.csv
```

`>` represents output redirection in Linux shell, which can write the output of the program to the specified file. After execution of command above, program `python train-log-analyser.py train-log-demoe.log` output result will write to `train-log-summary.csv` file.


## Execution Result

We can have a look for `train-log-summary.csv` file:

```
epoch   batchNum        ave-batch-acc   max-batch-acc   min-batch-acc   ave-batch-topk-acc      max-batch-topk-acc      min-batch-topk-acc      train-acc       train-topk-acc  val-acc val-topk-acc    train-speed(img/sec)    max-speed       min-speed       consume-time(s
ec)     checkpoint
1       4880    0.00983606557377        0.062500        0.000000        0.049534057377  0.150000        0.000000        0.000000        0.071429        0.010659        0.044574        6.21864754098   6.25    6.15    3144.739        ./models/resnext-50-standford-512-lr-0
.01-0001.params
2       4880    0.0110143442623 0.075000        0.000000        0.051883295082  0.137500        0.000000        0.000000        0.000000        0.011673        0.047665        6.23327868852   6.24    6.22    3136.301        ./models/resnext-50-standford-512-lr-0.01-0002
.params
3       4880    0.0123438729508 0.062500        0.000000        0.0550668442623 0.137500        0.000000        0.000000        0.107143        0.022374        0.064202        6.2368852459    6.25    6.23    3134.694        ./models/resnext-50-standford-512-lr-0.01-0003
.params
4       4880    0.0121413934426 0.050000        0.000000        0.059165204918  0.137500        0.000000        0.000000        0.041667        0.023346        0.074903        6.23713114754   6.25    6.23    3133.809        ./models/resnext-50-standford-512-lr-0.01-0004.params
5       4880    0.0155713319672 0.062500        0.000000        0.0690964098361 0.137500        0.000000        0.000000        0.035714        0.032946        0.098837        6.22549180328   6.25    6.18    3140.826        ./models/resnext-50-standford-512-lr-0.01-0005.params
6       4880    0.0185963114754 0.075000        0.000000        0.0829259385246 0.212500        0.012500        0.071429        0.107143        0.028210        0.112840        6.2006557377    6.22    6.18    3152.902        ./models/resnext-50-standford-512-lr-0.01-0006.params
7       4880    0.0272980081967 0.087500        0.000000        0.113197696721  0.237500        0.012500        0.000000        0.142857        0.045720        0.167315        6.20237704918   6.22    6.18    3152.132        ./models/resnext-50-standford-512-lr-0.01-0007.params
8       4880    0.0354483811475 0.087500        0.000000        0.141471508197  0.262500        0.037500        0.000000        0.166667        0.057393        0.179961        6.20348360656   6.22    6.19    3150.797        ./models/resnext-50-standford-512-lr-0.01-0008.params
9       4880    0.0399004672131 0.125000        0.000000        0.161960868852  0.262500        0.037500        0.000000        0.035714        0.059109        0.187984        6.20221311475   6.22    6.19    3152.504        ./models/resnext-50-standford-512-lr-0.01-0009.params
10      4880    0.045074647541  0.125000        0.000000        0.181215848361  0.300000        0.075000        0.000000        0.107143        0.067121        0.232490        6.20008196721   6.22    5.21    3153.609        ./models/resnext-50-standford-512-lr-0.01-0010.params
```


